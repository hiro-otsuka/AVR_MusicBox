＝＝＝＝ EEPROM 書き込みツールの使用方法 ＝＝＝＝
■ハードウェアの用意
 Arduino IDE を起動し、tools\ ディレクトリに格納された eepromwriter.ino スケッチを Arduino に書き込む。
 Arduino と EEPROM をI2Cで接続するか、ATMega328 を外して別途個別の基板に搭載する。

■ツールの使用
 TeraTerm等で、ツールスケッチを書き込んだ Arduino に接続するか、別途ツールを使用する。
 ※Arduino IDE のシリアルモニタでは複数行のペースト等が行えないので、TeraTermを使用する。
 TeraTerm等から使用する場合、以下のコマンドで HEX ファイルの書き込みを行う。
  h ... コマンドリストを表示
  v ... ファームウェアのバージョンを表示
  f ... 利用可能な I2C アドレスを表示
  l ... EEPROM内のファイル一覧を表示
  s ... EEPROM のR/Wアドレスを設定（初期値は 0x000000）
        （上位1バイト分は、EEPROMのI2Cアドレスの通番 … 0x50,0x51,0x54,0x55 が有効の場合、0x020000 は 0x54が対象）
  w ... 現在のR/Wアドレスから、入力されたHEXファイルを書き込む
        （書き込み完了時点のアドレスが R/Wアドレスに記録される）
  r ... 現在のR/Wアドレスから、指定されたバイト数分のデータを読み込んで表示する
        （読み込み終了時点のアドレスが R/Wアドレスに記録される）
  c ... 現在のR/Wアドレス上の 1バイト分を書き換え
        （R/Wアドレスは +1 されるので連続実行が可能）
  z ... 指定されたモードでFuseを設定する
        （コマンド実行後、モードを入力する。指定値は FF=初期化, 11=RSTを有効化, 22=RSTを無効化）
  e ... ATTiny85 の EEPROM に、入力されたHEXファイルを書き込む
        （チップの初期化コマンドによりプログラムも消去されるので、続けて"p"コマンドを実行する必要がある）
  p ... ATTiny85 の フラッシュROM に、入力されたHEXファイルを書き込む

■書き込み方法
 まずは z コマンド + FF モードでFuseを初期化後、 z コマンド + 22 でリセットを無効化する。
 続けて、e コマンドで動作モードやピンのI/O設定を書き込む。
 最後に p コマンドでファームウェアを書き込み、準備完了。
 EEPROMに対しては、 l, w, c などのコマンドを使用して必要なファイルを書き込む。

