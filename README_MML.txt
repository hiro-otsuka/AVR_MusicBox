＝＝＝＝ MMLの仕様 ＝＝＝＝ 
■共通仕様
 コメントは ; から開始する。改行までコメントとして扱われる。
 タブやスペース、改行は基本的に無視される。
 アルファベットの大文字と小文字は無視される（大文字として扱われる）。

■トップ定義
 Tnnn ... テンポ設定
  ⇒nnn = テンポ
    ただし通常のテンポ（四分音符の個数等）とは異なり、一分音符の長さを設定する。
    計算式は以下の通り。
     ((60 / 四分音符のリズム数) * 4) / ((1,024 * 256) / CPUの周波数) 
       ⇒計算結果から 3*16 の倍数の一番近い数字に丸める。
         ただし、3連符を使わない場合は 16 の倍数でもよい。
    CPUの周波数が16MHzの時、 (60/四分音符のリズム数)*4 / 0.016384 に等しい
      例）四分音符=120の楽譜で、CPU=16MHz の場合
        ((60/120)*4)/0.016384 = 122
       ⇒ 3連符を使う場合は 96 or 144、使わない場合は 128 に丸める

 Bnn/mm ... 一小節の音符数
  ⇒nn/mm = 拍子
    4/4, 3/4などを指定する。
    各パートの小節チェックで使用されるだけで、楽譜には影響なし。

 K{ xxx } ... キー設定
  ⇒xxx = 各音符のキー設定
    例えば以下の通り。
      E minor ... K{ F+ }
      A flat major ... K{ A-B-D-E- }
    ただし各音符でも指定できるので、必須ではない。
    楽譜定義の途中にも記述できないため、移調にも使用できない。

 $zzzz{ xxxx } ... サブパート定義
  ⇒zzzz = サブパート名
    後述のチャンネルパートで使用できる
  ⇒xxxx = 楽譜定義
    後述の楽譜が記述可能。途中で改行も可。
    オクターブやボリュームの増減はサブパート終了後も復帰しないため、
    サブパート内では元に戻しておくことを推奨。
 
 #{ xxxx } ... チャンネル定義
  ⇒xxxx = 楽譜定義
    後述の楽譜が記述可能。途中で改行も可。
    ツールの仕様上はパート数の制限はないが、プログラムでは3パートまで再生可能。

■楽譜定義（制御系）
 Knn ... 変調を指定
  ⇒nn = 移調数
    -127～+127まで指定は可能だが、再生可能な音域を超えると再生不可。

 Vnn ... ボリュームを指定
  ⇒nn = ボリューム
    0～16の直接指定または増減の設定が可能。
    '+' = ボリューム追加、'-' = ボリューム減少。

 @nn ... 波形の指定
  ⇒nn = 波形番号を指定
    0=サイン波、1=三角波、2=矩形波、3=鋸波。

 W(nn,mm) ... 音の減衰傾斜を指定
  ⇒nn = 減衰までの時間
  ⇒mm = 減衰間隔
    最初の nn で減衰までの時間、次の mm で減衰間隔を指定する。
    CPUの周波数が 16MHz の時で、
      nn = 1 の場合、減衰まで 0.016384秒。
      mm = 1 の場合、0.016384秒ごとにボリューム -1。
    それぞれ設定値に正比例して時間（秒数）が伸びる。

 | ... 小節の区切り
    音符数と拍子が不一致の場合は警告を表示する。

 : ... 小節の区切り(警告なし)
    音符数と拍子が不一致の場合も警告を表示せず、新たな小節を開始する。

 [ xxxx ]nn ... ループ
  ⇒nn = ループ回数
    [] で囲まれた楽譜情報を nn 回ループする。
    ループ回数分のバイナリデータが出力されるので、無限ループは不可。

 $(zzzz) ... サブパートの使用
  ⇒zzzz = サブパート名
    トップ定義で記述されたサブパートが読み込まれる。
    そのままサブパートを記述したものとして扱われるため、
    たとえば音符のオクターブはその時点のオクターブが設定される。
    また、サブパートで変更されたオクターブ増減等もサブパート外に影響を及ぼす。

■楽譜定義（演奏系）
 Lnn ... デフォルトの音符長を指定
  ⇒nn = デフォルトの音符長。
    音符に長さが指定されていない場合は、この音符長が採用される。
    '1' = 一分音符、'2' = 二分音符、'4.' = 付点四分音符（＝四分音符＋八分音符）

 Onn ... オクターブを指定
  ⇒nn = オクターブの指定。0-4 が指定可能。

 %nn ... オクターブ確認
  ⇒nn = オクターブの指定。0-4 が指定可能。
    オクターブ増減のズレを確認する。
    この記述の個所で、指定されたオクターブと一致しない場合は警告を表示する。
    楽譜の情報には影響しない。

 > ... オクターブ+1
    オクターブが 4 を超えると、ツールが警告を表示する。

 < ... オクターブ-1
    オクターブが 0 未満になると、ツールが警告を表示する。

 A～G(移調指定)(nn) ... 楽譜指定
  ⇒A～G = 音符
    C,D,E,F,G,A,B でド～シを表す
  ⇒(移調指定) = シャープやフラットの指定(省略可能)
    '+' = シャープ、'-' = フラット、'=' = ナチュラル
    通常の楽譜とは異なり一音符に対する指定のみ。小節内には影響を及ぼさない。
    そのため、'=' はトップ定義の K（変調）を無効化する場合のみ使用する。
  ⇒(nn) = 音符長
    L コマンドと同様の指定が可能。
    省略可能で、省略した場合は L コマンドの指定が採用される。

 ^nn ... タイ
  ⇒nn = 音符長
    音符の長さをつなげるコマンド。前の音符に続けて記述する。
    たとえば四分音符を2個つなげる場合、
      a4^4
    とする（二分音符と同等）。小節をまたがってつなげる場合、
      a4^|4
    のように指定することで拍子の確認が正確に行われる。

 Pnn ... LEDのON
  ⇒nn = ONにするLED番号
    他ピンマイコンで、音楽と同期してLEDをON/OFFする場合に使用する。

 Fnn ... LEDのOFF
  ⇒nn = OFFにするLED番号
    他ピンマイコンで、音楽と同期してLEDをON/OFFする場合に使用する。

